<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html>
<title>Linux Driver-hello</title>
<body>
<h1>module(模組)的操作</h1>
<p>Linux為使用者提供了modutils工具,用來操作module(模組).這個工具包括以下指令:</p>
<ul>
<li>insmod</li>
<p>使用insmod hello.ko來載入hello.ko模組</p>
<img src="./images/LinuxDriver-Hello_insmod.PNG"></img>
<li>rmmod</li>
<p>使用rmmod hello來卸載hello.ko模組</p>
<img src="./images/LinuxDriver-Hello_rmmod.PNG"></img>
<li>modprobe</li>
<p>高級的載入和刪除module(模組)指令</p>
<li>lsmod</li>
<p>列出已經載入的module(模組)和資訊</p>
<img src="./images/LinuxDriver-Hello_lsmod.PNG"></img>
<li>modinfo</li>
<p>用於查詢module(模組)的相關資訊</p>
<img src="./images/LinuxDriver-Hello_modinfo.PNG"></img>
</ul>

<h1>hello module(模組)載入後檔案系統的變化</h1>
<ul>
<li>/proc/modules</li>
<p>通過指令cat /proc/moduels查看/proc/modules變化.</p>
<img src="./images/LinuxDriver-Hello_proc_modules.PNG"></img>
<p>lsmod指令就是透過讀取/proc/modules列出核心當前已經載入的模組資訊</p>
<img src="./images/LinuxDriver-Hello_lsmod_grep_hello.PNG"></img>

<li>/proc/devices</li>
<p>/proc/devices檔案沒有發生變化,因為hello.ko並不是一個裝置模組</p>

<li>/sys/module/</li>
<p>/sys/module/目錄會增加一個hello目錄</p>
<img src="./images/LinuxDriver-Hello_ls_sys_module.PNG"></img>
<p>hello目錄中包含了一些以層次結構組織的核心模組的屬性資訊.可透過tree -a /sys/module/hello指令來得到目錄結構</p>
<img src="./images/LinuxDriver-Hello_tree_sys_module_hello.PNG"></img>
</ul>
</body>
</html>